<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Support Prompt Builder — for Teachers</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom scrollbar styling for the output box */
        #output::-webkit-scrollbar {
            width: 8px;
        }
        #output::-webkit-scrollbar-thumb {
            background: #cbd5e1; /* slate-300 */
            border-radius: 4px;
        }
        #output::-webkit-scrollbar-thumb:hover {
            background: #94a3b8; /* slate-400 */
        }
        body {
            font-family: 'Inter', sans-serif;
            min-height: 100vh;
        }
    </style>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary-blue': '#1e40af', // Blue-700
                        'secondary-gray': '#f1f5f9', // Slate-100
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-secondary-gray text-gray-800 p-4 sm:p-6 md:p-8">

    <div class="max-w-6xl mx-auto bg-white p-6 sm:p-8 rounded-xl shadow-2xl">

        <header class="mb-6 border-b pb-4">
            <h1 class="text-3xl font-extrabold text-primary-blue mb-1">Student Support Prompt Builder — for Teachers</h1>
            <p class="text-gray-500">Use this builder to convert student support information and accommodations into AI-ready prompts for differentiated instruction, modified work, behavior/self-regulation plans, and progress documentation.</p>
        </header>

        <!-- Main Content Area: Form (Left) and Output (Right) -->
        <div class="md:grid md:grid-cols-12 md:gap-8">

            <!-- LEFT COLUMN: Form -->
            <div class="md:col-span-7">
                <!-- Removed onsubmit and type=submit from the form/button -->
                <form id="prompt-form"> 
                    <!-- SECTION 1: Mental / Physical Impairment(s) -->
                    <fieldset class="border border-indigo-200 rounded-lg p-4 mb-6 bg-indigo-50/50">
                        <legend class="px-2 text-lg font-semibold text-primary-blue">1. Impairment(s)</legend>
                        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-x-6 gap-y-2 mt-2 text-sm">
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" name="impairment" value="ADHD (Inattentive)" class="rounded text-primary-blue focus:ring-primary-blue">
                                <span>ADHD (Inattentive)</span>
                            </label>
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" name="impairment" value="ADHD (Hyperactive/Combined)" class="rounded text-primary-blue focus:ring-primary-blue">
                                <span>ADHD (Hyperactive/Combined)</span>
                            </label>
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" name="impairment" value="Autism Spectrum Disorder" class="rounded text-primary-blue focus:ring-primary-blue">
                                <span>Autism Spectrum Disorder</span>
                            </label>
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" name="impairment" value="Specific Learning Disability in Reading" class="rounded text-primary-blue focus:ring-primary-blue">
                                <span>SLD – Reading</span>
                            </label>
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" name="impairment" value="Specific Learning Disability in Writing" class="rounded text-primary-blue focus:ring-primary-blue">
                                <span>SLD – Writing</span>
                            </label>
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" name="impairment" value="Specific Learning Disability in Math" class="rounded text-primary-blue focus:ring-primary-blue">
                                <span>SLD – Math</span>
                            </label>
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" name="impairment" value="Anxiety Disorder" class="rounded text-primary-blue focus:ring-primary-blue">
                                <span>Anxiety Disorder</span>
                            </label>
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" name="impairment" value="Executive Functioning Impairment" class="rounded text-primary-blue focus:ring-primary-blue">
                                <span>Executive Functioning Impairment</span>
                            </label>
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" name="impairment" value="Other Health Impairment" class="rounded text-primary-blue focus:ring-primary-blue">
                                <span>Other Health Impairment (OHI)</span>
                            </label>
                        </div>
                        <label for="impairment-notes" class="block mt-4 text-sm font-medium text-gray-700">Additional impairment details (optional):</label>
                        <textarea id="impairment-notes" rows="2" oninput="buildPrompt()" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-2"></textarea>
                    </fieldset>

                    <!-- SECTION 2: Substantially Limited MLAs -->
                    <fieldset class="border border-indigo-200 rounded-lg p-4 mb-6 bg-indigo-50/50">
                        <legend class="px-2 text-lg font-semibold text-primary-blue">2. Limited Major Life Activity(ies)</legend>
                        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-x-6 gap-y-2 mt-2 text-sm">
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" name="mla" value="Reading" class="rounded text-primary-blue focus:ring-primary-blue" onchange="buildPrompt()">
                                <span>Reading</span>
                            </label>
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" name="mla" value="Writing" class="rounded text-primary-blue focus:ring-primary-blue" onchange="buildPrompt()">
                                <span>Writing</span>
                            </label>
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" name="mla" value="Math" class="rounded text-primary-blue focus:ring-primary-blue" onchange="buildPrompt()">
                                <span>Math</span>
                            </label>
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" name="mla" value="Attention and concentration" class="rounded text-primary-blue focus:ring-primary-blue" onchange="buildPrompt()">
                                <span>Attention / Concentration</span>
                            </label>
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" name="mla" value="Executive functioning" class="rounded text-primary-blue focus:ring-primary-blue" onchange="buildPrompt()">
                                <span>Executive Functioning</span>
                            </label>
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" name="mla" value="Processing information" class="rounded text-primary-blue focus:ring-primary-blue" onchange="buildPrompt()">
                                <span>Processing Information</span>
                            </label>
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" name="mla" value="Completing work independently" class="rounded text-primary-blue focus:ring-primary-blue" onchange="buildPrompt()">
                                <span>Completing Work Independently</span>
                            </label>
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" name="mla" value="Self-regulation and emotional regulation" class="rounded text-primary-blue focus:ring-primary-blue" onchange="buildPrompt()">
                                <span>Self-Regulation / Emotional Regulation</span>
                            </label>
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" name="mla" value="Social interaction" class="rounded text-primary-blue focus:ring-primary-blue" onchange="buildPrompt()">
                                <span>Social Interaction</span>
                            </label>
                        </div>
                        <label for="mla-notes" class="block mt-4 text-sm font-medium text-gray-700">Brief description of how MLAs are impacted (optional):</label>
                        <textarea id="mla-notes" rows="2" oninput="buildPrompt()" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-2"></textarea>
                    </fieldset>

                    <!-- SECTION 3: Necessary Accommodations & Supports -->
                    <fieldset class="border border-indigo-200 rounded-lg p-4 mb-6 bg-indigo-50/50">
                        <legend class="px-2 text-lg font-semibold text-primary-blue">3. Accommodations & Supports</legend>

                        <h3 class="text-base font-semibold text-gray-700 mt-2">Instruction / Delivery</h3>
                        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-x-6 gap-y-2 text-sm pt-1 pb-3 border-b border-indigo-100">
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" name="accom" value="Repeated directions" class="rounded text-primary-blue focus:ring-primary-blue" onchange="buildPrompt()">
                                <span>Repeated directions</span>
                            </label>
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" name="accom" value="Clarified instructions" class="rounded text-primary-blue focus:ring-primary-blue" onchange="buildPrompt()">
                                <span>Clarified instructions</span>
                            </label>
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" name="accom" value="Written and verbal directions" class="rounded text-primary-blue focus:ring-primary-blue" onchange="buildPrompt()">
                                <span>Written and verbal directions</span>
                            </label>
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" name="accom" value="Check for understanding" class="rounded text-primary-blue focus:ring-primary-blue" onchange="buildPrompt()">
                                <span>Check for understanding</span>
                            </label>
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" name="accom" value="Chunking assignments into smaller steps" class="rounded text-primary-blue focus:ring-primary-blue" onchange="buildPrompt()">
                                <span>Chunking assignments</span>
                            </label>
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" name="accom" value="Guided notes or outlines" class="rounded text-primary-blue focus:ring-primary-blue" onchange="buildPrompt()">
                                <span>Guided notes / outlines</span>
                            </label>
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" name="accom" value="Visual supports and graphic organizers" class="rounded text-primary-blue focus:ring-primary-blue" onchange="buildPrompt()">
                                <span>Visual supports / graphic organizers</span>
                            </label>
                        </div>

                        <h3 class="text-base font-semibold text-gray-700 mt-3">Testing / Work Completion</h3>
                        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-x-6 gap-y-2 text-sm pt-1 pb-3 border-b border-indigo-100">
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" name="accom" value="Extended time on tests (50%)" class="rounded text-primary-blue focus:ring-primary-blue" onchange="buildPrompt()">
                                <span>Extended time (50%)</span>
                            </label>
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" name="accom" value="Testing in a reduced-distraction setting" class="rounded text-primary-blue focus:ring-primary-blue" onchange="buildPrompt()">
                                <span>Reduced-distraction setting</span>
                            </label>
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" name="accom" value="Small-group testing" class="rounded text-primary-blue focus:ring-primary-blue" onchange="buildPrompt()">
                                <span>Small-group testing</span>
                            </label>
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" name="accom" value="Breaks during tests" class="rounded text-primary-blue focus:ring-primary-blue" onchange="buildPrompt()">
                                <span>Breaks during tests</span>
                            </label>
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" name="accom" value="Use of computer or tablet for written work" class="rounded text-primary-blue focus:ring-primary-blue" onchange="buildPrompt()">
                                <span>Computer / tablet for written work</span>
                            </label>
                        </div>

                        <h3 class="text-base font-semibold text-gray-700 mt-3">Environment / Behavior / Access</h3>
                        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-x-6 gap-y-2 text-sm pt-1">
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" name="accom" value="Preferential seating" class="rounded text-primary-blue focus:ring-primary-blue" onchange="buildPrompt()">
                                <span>Preferential seating</span>
                            </label>
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" name="accom" value="Frequent check-ins and prompts to stay on task" class="rounded text-primary-blue focus:ring-primary-blue" onchange="buildPrompt()">
                                <span>Frequent check-ins</span>
                            </label>
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" name="accom" value="Brain breaks or movement breaks" class="rounded text-primary-blue focus:ring-primary-blue" onchange="buildPrompt()">
                                <span>Brain / movement breaks</span>
                            </label>
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" name="accom" value="Access to sensory tools such as fidgets or headphones" class="rounded text-primary-blue focus:ring-primary-blue" onchange="buildPrompt()">
                                <span>Sensory tools (fidgets, headphones)</span>
                            </label>
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" name="accom" value="Use of text-to-speech tools" class="rounded text-primary-blue focus:ring-primary-blue" onchange="buildPrompt()">
                                <span>Text-to-speech</span>
                            </label>
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" name="accom" value="Use of speech-to-text tools" class="rounded text-primary-blue focus:ring-primary-blue" onchange="buildPrompt()">
                                <span>Speech-to-text</span>
                            </label>
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" name="accom" value="Organizational tools such as timers or digital checklists" class="rounded text-primary-blue focus:ring-primary-blue" onchange="buildPrompt()">
                                <span>Organizational tools</span>
                            </label>
                        </div>

                        <label for="accom-notes" class="block mt-4 text-sm font-medium text-gray-700">Additional accommodations or notes (optional):</label>
                        <textarea id="accom-notes" rows="2" oninput="buildPrompt()" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-2"></textarea>
                    </fieldset>

                    <!-- SECTION 4: AI Task Selection -->
                    <fieldset class="border border-primary-blue rounded-lg p-4 mb-6 bg-blue-50/50">
                        <legend class="px-2 text-lg font-bold text-primary-blue">4. AI Task</legend>
                        <div class="mb-4">
                            <label for="output-type" class="block text-sm font-medium text-gray-700">What do you want the AI to build?</label>
                            <select id="output-type" onchange="buildPrompt()" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-blue focus:ring-primary-blue p-2">
                                <option value="">-- Select a specific resource --</option>
                                <option value="differentiated assignment">Differentiated assignment</option>
                                <option value="modified test or quiz">Modified test or quiz</option>
                                <option value="student-friendly instructions and checklist">Student-friendly instructions & checklist</option>
                                <option value="email to parent or guardian">Email to parent or guardian</option>
                                <option value="progress note summarizing supports and progress">Progress note</option>
                                <option value="behavior and self-regulation support ideas">Behavior / self-regulation supports</option>
                                <option value="a short, scaffolded reading passage with comprehension questions">Scaffolded reading passage</option>
                                <option value="a lesson plan summary with specific differentiation strategies">Lesson plan summary</option>
                            </select>
                        </div>
                        <div>
                            <label for="task-notes" class="block text-sm font-medium text-gray-700">Specific topic, unit, or task (e.g., '6th Grade Math quiz on fractions', 'IEP Goal: Student will write a 5-sentence paragraph', or 'The assigned reading passage on water cycles'):</label>
                            <input type="text" id="task-notes" oninput="buildPrompt()" placeholder="e.g., '6th Grade Math quiz on fractions', 'IEP Goal: Student will write a 5-sentence paragraph', or 'The assigned reading passage on water cycles'" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-blue focus:ring-primary-blue p-2"/>
                        </div>
                    </fieldset>

                    <!-- Button removed here -->
                </form>
            </div>

            <!-- RIGHT COLUMN: Output -->
            <div class="md:col-span-5 md:mt-0 mt-8">
                
                <div class="flex justify-between items-center mb-3 border-b pb-2">
                    <h2 class="text-xl font-bold text-primary-blue">Complete Prompt</h2>
                    <button id="copy-button" onclick="copyPrompt()" type="button" class="flex items-center space-x-2 px-3 py-1 bg-green-600 text-white text-sm font-semibold rounded-lg shadow-md hover:bg-green-700 transition duration-150">
                         <!-- Icon for Copy -->
                        <svg id="copy-icon" class="w-4 h-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                            <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                        </svg>
                        <svg id="check-icon" class="w-4 h-4 hidden" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="20 6 9 17 4 12"></polyline>
                        </svg>
                        <span id="copy-text">Copy</span>
                    </button>
                </div>
                <!-- Increased minimum height for better side-by-side viewing -->
                <textarea id="output" readonly class="w-full min-h-[500px] p-4 text-gray-700 bg-gray-100 rounded-lg border border-gray-300 shadow-inner resize-y"></textarea>
            </div>
        </div>
        <!-- End of Main Content Area -->

    </div>

    <script>
        function getCheckedValues(name) {
            return Array.from(document.querySelectorAll('input[name="' + name + '"]:checked'))
                .map(el => el.value);
        }

        function buildPrompt() {
            // Re-run buildPrompt when any relevant input changes
            const impairments = getCheckedValues('impairment');
            const impairmentNotes = document.getElementById('impairment-notes').value.trim();

            const mlas = getCheckedValues('mla');
            const mlaNotes = document.getElementById('mla-notes').value.trim();

            const accoms = getCheckedValues('accom');
            const accomNotes = document.getElementById('accom-notes').value.trim();

            const outputType = document.getElementById('output-type').value;
            const taskNotes = document.getElementById('task-notes').value.trim();

            let prompt = `You are an expert educational AI assistant helping a secondary teacher support a student using an Individualized Education or Support Plan (IEP/504). The goal is to generate a resource that is fully aligned with the student's needs and accommodations.

STUDENT PROFILE (Support Plan Information):
----------------------------------
1. Mental / Physical Impairment(s): ${impairments.length ? impairments.join(', ') : 'Not specified.'}${impairmentNotes ? `\n   -> Additional details: ${impairmentNotes}` : ''}

2. Substantially Limited Major Life Activity(ies): ${mlas.length ? mlas.join(', ') : 'Not specified.'}${mlaNotes ? `\n   -> Impact description: ${mlaNotes}` : ''}

3. Necessary Accommodations and Supports:
   - ${accoms.length ? accoms.join('\n   - ') : 'Not specified.'}${accomNotes ? `\n   -> Additional notes/supports: ${accomNotes}` : ''}

TEACHER'S REQUEST:
------------------
Task Type: ${outputType || 'General resource or support idea'}
Specific Topic/Context: ${taskNotes || 'Not specified. Apply supports generally.'}

ACTION:
-------
Based on the student profile, please create a ${outputType || 'helpful resource or detailed suggestion'} for the teacher. Ensure the output is immediately usable and explicitly incorporates the relevant accommodations (e.g., chunking, visual supports, text-to-speech friendliness). If the task type is not specified, provide 3 actionable, specific differentiation strategies based on the profile above.`;

            document.getElementById('output').value = prompt;
        }

        function copyPrompt() {
            const outputTextarea = document.getElementById('output');
            const copyButton = document.getElementById('copy-button');
            const copyText = document.getElementById('copy-text');
            const copyIcon = document.getElementById('copy-icon');
            const checkIcon = document.getElementById('check-icon');

            // Select the text in the textarea
            outputTextarea.select();
            outputTextarea.setSelectionRange(0, 99999); // For mobile devices

            // Use the clipboard API if available (preferred)
            if (navigator.clipboard) {
                navigator.clipboard.writeText(outputTextarea.value).then(() => {
                    // Success feedback
                    copyText.textContent = 'Copied!';
                    copyButton.classList.replace('bg-green-600', 'bg-blue-600');
                    copyIcon.classList.add('hidden');
                    checkIcon.classList.remove('hidden');

                    // Reset button after 2 seconds
                    setTimeout(() => {
                        copyText.textContent = 'Copy';
                        copyButton.classList.replace('bg-blue-600', 'bg-green-600');
                        copyIcon.classList.remove('hidden');
                        checkIcon.classList.add('hidden');
                    }, 2000);
                }).catch(err => {
                    console.error('Failed to copy text using clipboard API: ', err);
                    // Fallback to execCommand if clipboard API fails
                    if (document.execCommand('copy')) {
                        // Success feedback (same as above)
                        copyText.textContent = 'Copied!';
                        copyButton.classList.replace('bg-green-600', 'bg-blue-600');
                        copyIcon.classList.add('hidden');
                        checkIcon.classList.remove('hidden');
                        setTimeout(() => {
                            copyText.textContent = 'Copy';
                            copyButton.classList.replace('bg-blue-600', 'bg-green-600');
                            copyIcon.classList.remove('hidden');
                            checkIcon.classList.add('hidden');
                        }, 2000);
                    } else {
                        copyText.textContent = 'Failed';
                        console.error('Failed to copy text using execCommand.');
                    }
                });
            } else {
                // Fallback for environments where clipboard API is not available
                if (document.execCommand('copy')) {
                    // Success feedback (same as above)
                    copyText.textContent = 'Copied!';
                    copyButton.classList.replace('bg-green-600', 'bg-blue-600');
                    copyIcon.classList.add('hidden');
                    checkIcon.classList.remove('hidden');
                    setTimeout(() => {
                        copyText.textContent = 'Copy';
                        copyButton.classList.replace('bg-blue-600', 'bg-green-600');
                        copyIcon.classList.remove('hidden');
                        checkIcon.classList.add('hidden');
                    }, 2000);
                } else {
                    copyText.textContent = 'Failed';
                    console.error('Copy function failed. Please copy manually.');
                }
            }
        }

        // Add event listeners to all relevant inputs to rebuild the prompt automatically
        document.querySelectorAll('input[type="checkbox"], select').forEach(element => {
            element.addEventListener('change', buildPrompt);
        });

        document.getElementById('task-notes').addEventListener('input', buildPrompt);
        document.getElementById('impairment-notes').addEventListener('input', buildPrompt);
        document.getElementById('mla-notes').addEventListener('input', buildPrompt);
        document.getElementById('accom-notes').addEventListener('input', buildPrompt);


        // Initialize the prompt on load with default instructions
        document.addEventListener('DOMContentLoaded', () => {
             // Make sure the copyPrompt function is available globally
             window.copyPrompt = copyPrompt;
             buildPrompt();
        });
    </script>

</body>
</html>
